<div class="payment-success-container">
  <div class="payment-card">
    <!-- Verification Loading State -->
    <div *ngIf="isVerifying" class="verification-loading">
      <div class="loading-spinner"></div>
      <h2>Verifying Payment...</h2>
      <p>Please wait while we verify your payment status</p>
    </div>

    <!-- Success State -->
    <div *ngIf="!isVerifying && verificationSuccess" class="verification-success">
      <div class="success-icon">
        <svg width="64" height="64" viewBox="0 0 24 24" fill="none">
          <circle cx="12" cy="12" r="10" stroke="#10b981" stroke-width="2" fill="#f0fdf4"/>
          <path d="M9 12l2 2 4-4" stroke="#10b981" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </div>
      
      <h2>Payment Successful! ðŸŽ‰</h2>
      <p class="success-message">
        Congratulations! Your <strong>{{ planName }}</strong> plan has been activated successfully.
      </p>

      <div class="plan-benefits">
        <h3>You can now enjoy:</h3>
        <ul>
          <li>All new plan features</li>
          <li>Updated database limits</li>
          <li>Access to advanced tools</li>
        </ul>
      </div>

      <div class="redirect-info">
        <p>You will be redirected to the dashboard in {{ redirectCountdown }} seconds</p>
        <div class="countdown-bar">
          <div class="countdown-fill" [style.width.%]="(5 - redirectCountdown) * 20"></div>
        </div>
      </div>
      
      <div class="action-buttons">
        <button class="btn btn-primary" (click)="redirectToDashboard()">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
            <rect x="3" y="3" width="7" height="7" rx="1" stroke="currentColor" stroke-width="2"/>
            <rect x="14" y="3" width="7" height="7" rx="1" stroke="currentColor" stroke-width="2"/>
            <rect x="14" y="14" width="7" height="7" rx="1" stroke="currentColor" stroke-width="2"/>
            <rect x="3" y="14" width="7" height="7" rx="1" stroke="currentColor" stroke-width="2"/>
          </svg>
          Go to Dashboard
        </button>
        <button class="btn btn-outline" (click)="goHome()">
          Back to Home
        </button>
      </div>
    </div>

    <!-- Error State -->
    <div *ngIf="!isVerifying && !verificationSuccess" class="verification-error">
      <div class="error-icon">
        <svg width="64" height="64" viewBox="0 0 24 24" fill="none">
          <circle cx="12" cy="12" r="10" stroke="#ef4444" stroke-width="2" fill="#fef2f2"/>
          <line x1="15" y1="9" x2="9" y2="15" stroke="#ef4444" stroke-width="2"/>
          <line x1="9" y1="9" x2="15" y2="15" stroke="#ef4444" stroke-width="2"/>
        </svg>
      </div>
      
      <h2>Payment Verification Failed</h2>
      <p class="error-message">{{ verificationError }}</p>

      <div class="error-help">
        <h3>What can you do?</h3>
        <ul>
          <li>Check your email for confirmation</li>
          <li>Review your bank statement</li>
          <li>Contact support if the amount was charged</li>
        </ul>
      </div>

      <div class="action-buttons">
        <button class="btn btn-primary" (click)="goHome()">
          Back to Home
        </button>
        <button class="btn btn-outline" onclick="window.location.reload()">
          Try Again
        </button>
      </div>
    </div>
  </div>
</div>
